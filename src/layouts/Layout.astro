---
interface Props {
  title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="description"
      content="Ce portfolio est l'occasion pour moi de vous présenter mes compétences en développement web. Je suis passionné par la création de sites web et d'applications web. J'aime travailler sur des projets innovants et collaborer avec des équipes talentueuses."
    />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
  </head>
  <body
    class="relative flex flex-col w-full min-h-dvh justify-center items-center bg-background"
  >
    <video
      autoplay
      muted
      loop
      id="background-video"
      class="absolute top-0 left-0 w-full h-full object-cover z-0"
    >
      <source src="/assets/videos/video.mp4" type="video/mp4" />
      Your browser does not support the video tag.
    </video>
    <slot />
  </body>
</html>

<style is:global>
  @tailwind base;
  @tailwind components;
  @tailwind utilities;

  @layer base {
    :root {
      --background: 0, 0%, 98%;
      --foreground: 0, 0%, 9%;
      --card: 0, 0%, 100%;
      --muted: 0, 0%, 92%;
      --muted-foreground: 0, 0%, 40%;
      --accent: 0, 0%, 92%;
      --border: 220 13% 91%;
    }

    .dark {
      --background: 0, 0%, 10%;
      --foreground: 0, 0%, 90%;
      --card: 0, 0%, 15%;
      --muted: 0, 0%, 20%;
      --muted-foreground: 0, 0%, 70%;
      --accent: 0, 0%, 30%;
      --border: 220 13% 30%;
    }

    #background-video {
      z-index: -1;
      opacity: 0.8;
    }
  }

  @layer base {
    @font-face {
      font-family: "Geist";
      src: url("/fonts/GeistVF.woff") format("woff");
    }
    * {
      @apply border-border;
    }
    body {
      font-family: "Geist", system-ui, sans-serif;
      @apply bg-background text-foreground;
    }
  }
  .perfect-shadow {
    box-shadow: var(--perfect-shadow);
    --base: hsl(214 80% 27% / 4%);
    --shade: hsl(from var(--base) calc(h + 8) 25 calc(l - 5));
    --perfect-shadow: 0 0 0 1px var(--base), 0 1px 1px -0.5px var(--shade),
      0 3px 3px -1.5px var(--shade), 0 6px 6px -3px var(--shade),
      0 12px 12px -6px var(--base), 0 24px 24px -12px var(--base);
  }
</style>

<script is:inline>
  const theme = (() => {
    if (typeof localStorage !== "undefined" && localStorage.getItem("theme")) {
      return localStorage.getItem("theme");
    }
    if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
      return "dark";
    }
    return "light";
  })();

  if (theme === "light") {
    document.documentElement.classList.remove("dark");
  } else {
    document.documentElement.classList.add("dark");
  }
  window.localStorage.setItem("theme", theme);
</script>
